import{r as p,m as y,j as a,L}from"./app-BUmC_SAY.js";import{I as h}from"./input-error-BkwTxdJ-.js";import{B as F}from"./button-CUFfYuZr.js";import{I as g,a as _}from"./input-B2p-SIH9.js";import{L as l}from"./label-BitvWpER.js";import{S as T,a as E,b as w,c as B,d as D,e as O,f as P}from"./select-DjHtdmMn.js";import{A as q}from"./app-layout-BtJ3pkAn.js";import{L as A}from"./loader-circle-2Tulphst.js";import"./index-BWDtVl4a.js";import"./index-B2njMRug.js";import"./index-DhEVpXcI.js";import"./user-menu-content-DOQ3YuFw.js";import"./log-out-B83i_Uwg.js";import"./index-BGohIGTa.js";import"./chevron-down-Ckj1FqUF.js";import"./index-RsEnR-Iq.js";import"./app-logo-icon-vQaABjEB.js";function la({breadcrumb:x,orangtua:m,balita:r}){const v=p.useMemo(()=>x?x.map(e=>({title:e.title,href:e.href})):[],[x]),{data:t,setData:s,put:N,processing:n,errors:d}=y({orang_tua_id:r.orang_tua_id,nama:r.nama,tempat_lahir:r.tempat_lahir,tanggal_lahir:r.tanggal_lahir,jenis_kelamin:r.jenis_kelamin,alamat:r.alamat}),b=e=>{e.preventDefault(),console.log(t.jenis_kelamin),N(route("admin.balita.update",{balita:r.id}),{onError:u=>console.log(u)})},[i,k]=p.useState(null),[o,C]=p.useState(r.orang_tua_id),I=e=>{if(!m)return null;try{return(m==null?void 0:m.filter(c=>!c||!c.id?!1:String(c.id).includes(e)).map(c=>c))[0]??null}catch(u){return console.error("Error filtering orangtua by ID:",u),null}};p.useEffect(()=>{o&&(k(I(o)),s("orang_tua_id",o))},[o]);const j=new Date,f=new Date(j);f.setFullYear(j.getFullYear()-1);const S=f.toISOString().split("T")[0];return a.jsxs(q,{breadcrumbs:v,children:[a.jsx(L,{title:"Edit"}),a.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:a.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:a.jsx("div",{className:"p-4 md:p-6",children:a.jsx("form",{className:"flex flex-col gap-6",onSubmit:b,children:a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(l,{htmlFor:"nama",children:"Pilih Berdasarkan Nama Orang Tua"}),a.jsxs(T,{defaultValue:"0",value:o,onValueChange:e=>C(e),children:[a.jsx(E,{children:a.jsx(w,{placeholder:"Pilih Orang Tua"})}),a.jsx(B,{children:a.jsxs(D,{children:[a.jsx(O,{children:"Pilih Orang Tua"}),m.map(e=>a.jsx(P,{value:e.id,children:e.name},e.id))]})})]})]}),i&&a.jsxs("div",{className:"block space-y-4 p-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(l,{htmlFor:"email-orangtua",className:"text-muted-foreground",children:["Nama Orang Tua:"," "]}),a.jsx(l,{htmlFor:"Nama-orangtua",className:"font-normal",children:i==null?void 0:i.name})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(l,{htmlFor:"email-orangtua",className:"text-muted-foreground",children:["Email Orang Tua:"," "]}),a.jsx(l,{htmlFor:"Nama-orangtua",className:"font-normal",children:i==null?void 0:i.email})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(l,{htmlFor:"nama",children:"Nama"}),a.jsx(g,{id:"nama",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nama",value:t.nama,onChange:e=>s("nama",e.target.value),disabled:n,placeholder:"Nama Balita"}),a.jsx(h,{message:d.nama,className:"mt-2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"col-span-1 grid gap-2",children:[a.jsx(l,{htmlFor:"tempat_lahir",children:"Tempat"}),a.jsx(g,{id:"tempat_lahir",type:"text",required:!0,tabIndex:2,autoComplete:"tempat_lahir",value:t.tempat_lahir,onChange:e=>s("tempat_lahir",e.target.value),disabled:n,placeholder:"tempat_lahir......."}),a.jsx(h,{message:d.tempat_lahir})]}),a.jsxs("div",{className:"col-span-2 grid gap-2",children:[a.jsx(l,{htmlFor:"tanggal_lahir",children:"Tanggal Lahir"}),a.jsx(g,{id:"tanggal_lahir",type:"date",required:!0,max:S,tabIndex:2,autoComplete:"tanggal_lahir",value:t.tanggal_lahir,onChange:e=>s("tanggal_lahir",e.target.value),disabled:n,placeholder:"tanggal lahir......."}),a.jsx(h,{message:d.tanggal_lahir})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(l,{htmlFor:"jenis_kelamin",children:"Jenis Kelamin"}),a.jsx(_,{id:"jenis1",name:"jenis_kelaim",label:"Laki-laki",value:"Laki-laki",checked:t.jenis_kelamin=="Laki-laki",onChange:e=>s("jenis_kelamin",e.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),a.jsx(_,{id:"jenis2",name:"jenis_kelaim",label:"Perempuan",value:"Perempuan",checked:t.jenis_kelamin=="Perempuan",onChange:e=>s("jenis_kelamin",e.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),a.jsx(h,{message:d.jenis_kelamin})]}),a.jsxs("div",{className:"col-span-1 grid gap-2",children:[a.jsx(l,{htmlFor:"alamat",children:"Alamat"}),a.jsx(g,{id:"alamat",type:"text",required:!0,tabIndex:2,autoComplete:"alamat",value:t.alamat,onChange:e=>s("alamat",e.target.value),disabled:n,placeholder:"alamat......."}),a.jsx(h,{message:d.alamat})]}),a.jsxs(F,{type:"submit",variant:"secondary",className:"mt-2 w-full",tabIndex:5,disabled:n,children:[n&&a.jsx(A,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})})})})})]})}export{la as default};
