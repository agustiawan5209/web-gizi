import{j as e,r as n,b as G,L as _}from"./app-DAsq5aEM.js";import{B as y,C as p,a as k,L as v,b as w,p as z,c as g,d as u,P as L,A as E}from"./index-BJm4wz0Y.js";import{m as N,C as B}from"./proxy-DjK_sXh5.js";import{C as c,b,c as x,d as h}from"./card-C8DxntUa.js";import{A as P,L as T}from"./app-layout-CTY2y8XS.js";import{U as S}from"./user-round-B4TYKCbZ.js";import{a as W}from"./index-CZrhhx6_.js";import"./button-CxAd9G_8.js";import"./user-menu-content-CzGZ2ftA.js";import"./index-C_lY3s-q.js";import"./index-CdoqiAOz.js";import"./log-out-DaUnuTph.js";import"./index-DtHHC9FH.js";import"./app-logo-icon-kx5mrm50.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],U=W("Users",A);p.register(k,v,w,z,g,u);const J=({data:r,title:t})=>{const i={responsive:!0,plugins:{legend:{position:"top"},title:{display:!!t,text:t}},cutout:"50%"};return e.jsx(y,{data:r,options:i,className:"h-64 w-72"})};p.register(E,g,u);const M=({data:r,title:t})=>{const i={responsive:!0,plugins:{legend:{position:"top"},title:{display:!!t,text:t}}};return e.jsx(L,{data:r,options:i})};p.register(k,v,w,z,g,u);const R=()=>{const[r,t]=n.useState([]),[i,d]=n.useState(!0),[l,o]=n.useState(null);n.useEffect(()=>{(async()=>{try{const s=await G.get(route("api.get-dataset-data"));t(s.data),d(!1)}catch(s){o("Gagal memuat data"),d(!1),console.error(s)}})()},[]);const j={labels:r.map(a=>a.tahun.toString()),datasets:[{label:"Gizi Buruk",data:r.map(a=>a.gizi_buruk),backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1},{label:"Gizi Kurang",data:r.map(a=>a.gizi_kurang),backgroundColor:"rgba(249, 115, 22, 0.8)",borderColor:"rgba(249, 115, 22, 1)",borderWidth:1},{label:"Gizi Baik",data:r.map(a=>a.gizi_baik),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1},{label:"Gizi Lebih",data:r.map(a=>a.gizi_lebih),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1}]},m={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Rekap Pemeriksaan Status Gizi Balita per Tahun",font:{size:16}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Jumlah Balita"}},x:{title:{display:!0,text:"Tahun"}}}};return i?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-t-2 border-b-2 border-blue-500"})}):l?e.jsx("div",{className:"relative rounded border border-red-400 bg-red-100 px-4 py-3 text-red-700",children:l}):e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h2",{className:"mb-6 text-center text-xl font-bold text-gray-800",children:"Rekap Pemeriksaan Status Gizi Balita per Tahun"}),e.jsx("div",{className:"mb-8",children:e.jsx(y,{data:j,options:m})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border border-gray-200 bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border-b px-4 py-3 text-left font-semibold",children:"Tahun"}),e.jsx("th",{className:"border-b px-4 py-3 text-right font-semibold",children:"Gizi Buruk"}),e.jsx("th",{className:"border-b px-4 py-3 text-right font-semibold",children:"Gizi Kurang"}),e.jsx("th",{className:"border-b px-4 py-3 text-right font-semibold",children:"Gizi Baik"}),e.jsx("th",{className:"border-b px-4 py-3 text-right font-semibold",children:"Gizi Lebih"}),e.jsx("th",{className:"border-b px-4 py-3 text-right font-semibold",children:"Total Pemeriksaan"})]})}),e.jsx("tbody",{children:r.map((a,s)=>e.jsxs(N.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:s*.1},className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border-b px-4 py-3",children:a.tahun}),e.jsx("td",{className:"border-b px-4 py-3 text-right",children:a.gizi_buruk}),e.jsx("td",{className:"border-b px-4 py-3 text-right",children:a.gizi_kurang}),e.jsx("td",{className:"border-b px-4 py-3 text-right",children:a.gizi_baik}),e.jsx("td",{className:"border-b px-4 py-3 text-right",children:a.gizi_lebih}),e.jsx("td",{className:"border-b px-4 py-3 text-right font-medium",children:Number(a.gizi_buruk)+Number(a.gizi_kurang)+Number(a.gizi_baik)+Number(a.gizi_lebih)})]},a.tahun))})]})})]})};function te({orangtuacount:r,attributcount:t,pasienCount:i,pemeriksaancount:d,gizi:l,chartPemeriksaan:o,statusLabel:j}){const m=[{title:"Dashboard",href:"/dashboard"}],a={labels:o.label,datasets:[{label:"Data Pemeriksaan",backgroundColor:["rgba(21,150,0,0.4)"],borderColor:["rgba(21,150,0,1)"],borderWidth:1,data:o.data}]},s=Object.keys(l??{}),f=Object.values(l??{});console.log("Label:",s),console.log("data:",f);const C={labels:s??[],datasets:[{label:"Jumlah",data:f,backgroundColor:["rgba(222, 22, 0, 0.2)","rgba(194, 182, 0,0.2)","rgba(37, 255, 0, 0.2)","rgba(0, 134, 255, 0.2)"],borderColor:["rgba(222, 22, 0,1)","rgba(194, 182, 0,1)","rgba(37, 255, 0, 1)","rgba(0, 134, 255, 1)"],borderWidth:1}]},D=new Date().toLocaleString("id-ID",{month:"long",year:"numeric"});return e.jsxs(P,{breadcrumbs:m,children:[e.jsx(_,{title:"Dashboard"}),e.jsxs("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:[e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(c,{className:"border-sidebar-border/70 dark:border-sidebar-border bg-sidebar relative overflow-hidden rounded-xl border dark:bg-[#493D9E]",children:e.jsxs(b,{className:"px-4 pt-1 pb-0 text-center",children:[e.jsxs(x,{className:"flex flex-col items-center justify-center text-base text-white md:text-lg lg:text-xl",children:[e.jsx("span",{className:"rounded-2xl bg-white p-2",children:e.jsx(S,{className:"text-[#493D9E]"})}),e.jsx("span",{children:"Total User"})]}),e.jsx(h,{className:"text-white",children:r})]})}),e.jsx(c,{className:"border-sidebar-border/70 dark:border-sidebar-border bg-sidebar relative overflow-hidden rounded-xl border dark:bg-[#493D9E]",children:e.jsxs(b,{className:"px-4 pt-1 pb-0 text-center",children:[e.jsxs(x,{className:"flex flex-col items-center justify-center text-base text-white md:text-base lg:text-lg",children:[e.jsx("span",{className:"rounded-2xl bg-white p-2",children:e.jsx(U,{className:"text-[#493D9E]"})}),e.jsx("span",{children:"Total Pasien"})]}),e.jsx(h,{className:"text-white",children:i})]})}),e.jsx(c,{className:"border-sidebar-border/70 dark:border-sidebar-border bg-sidebar relative overflow-hidden rounded-xl border dark:bg-[#493D9E]",children:e.jsxs(b,{className:"px-4 pt-1 pb-0 text-center",children:[e.jsxs(x,{className:"flex flex-col items-center justify-center text-base text-white md:text-base lg:text-base",children:[e.jsx("span",{className:"rounded-2xl bg-white p-2",children:e.jsx(T,{className:"text-[#493D9E]"})}),e.jsx("span",{children:"Total Kriteria"})]}),e.jsx(h,{className:"text-white",children:t})]})}),e.jsx(c,{className:"border-sidebar-border/70 dark:border-sidebar-border bg-sidebar relative overflow-hidden rounded-xl border dark:bg-[#493D9E]",children:e.jsxs(b,{className:"px-4 pt-1 pb-0 text-center",children:[e.jsxs(x,{className:"flex flex-col items-center justify-center text-base text-white md:text-base lg:text-base",children:[e.jsx("span",{className:"rounded-2xl bg-white p-2",children:e.jsx(B,{className:"text-[#493D9E]"})}),"Total Pemeriksaan Gizi Balita"]}),e.jsx(h,{className:"text-white",children:d})]})})]}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 align-middle md:grid-cols-12",children:[e.jsx("div",{className:"col-span-full w-full p-4 md:col-span-12 lg:col-span-8 dark:bg-white",children:e.jsx(R,{})}),e.jsxs("div",{className:"col-span-full max-h-full w-full border p-4 md:col-span-12 lg:col-span-4 dark:bg-white",children:[e.jsxs("h4",{className:"text-center font-semibold",children:["Pemeriksaan Gizi Bulan ",D," "]}),e.jsx(M,{data:C,title:"Jumlah Pemeriksaan Gizi"}),e.jsx("div",{className:"col-span-full w-full p-4 md:col-span-12 lg:col-span-7 dark:bg-white",children:e.jsx(J,{data:a,title:"Jumlah Pemeriksaan"})})]})]})})]})]})}export{te as default};
