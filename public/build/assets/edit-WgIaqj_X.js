import{K as C,r as u,m as L,j as a,L as E}from"./app-CaUoG4hj.js";import{I as m}from"./input-error-UZB5m4N1.js";import{B as F}from"./button-CSgnavUU.js";import{I as g,a as _}from"./input-DyDo2cLi.js";import{L as d}from"./label-CvW7LuGR.js";import{A as w}from"./app-layout-dYSSZQao.js";import{L as S}from"./loader-circle-CHDm81yU.js";import"./index-DVd50Osy.js";import"./index-CP75hB8A.js";import"./user-menu-content-DZbFbM0k.js";import"./index-CWHbOppW.js";import"./log-out-CsClf2Vn.js";import"./index-CEbCT6fA.js";import"./app-logo-icon-CJoCHGc9.js";function V({breadcrumb:h,orangtua:o,balita:t}){const f=C(),{auth:D}=f.props,v=u.useMemo(()=>h?h.map(e=>({title:e.title,href:e.href})):[],[h]),{data:r,setData:l,put:k,processing:s,errors:i}=L({orang_tua_id:t.orang_tua_id,nama:t.nama,tempat_lahir:t.tempat_lahir,tanggal_lahir:t.tanggal_lahir,jenis_kelamin:t.jenis_kelamin,alamat:t.alamat}),b=e=>{e.preventDefault(),console.log(r.jenis_kelamin),k(route("admin.balita.update",{balita:t.id}),{onError:c=>console.log(c)})},[B,N]=u.useState(null),[p,O]=u.useState(t.orang_tua_id),I=e=>{if(!o)return null;try{return(o==null?void 0:o.filter(n=>!n||!n.id?!1:String(n.id).includes(e)).map(n=>n))[0]??null}catch(c){return console.error("Error filtering orangtua by ID:",c),null}};u.useEffect(()=>{p&&(N(I(p)),l("orang_tua_id",p))},[p]);const x=new Date,j=new Date(x);j.setFullYear(x.getFullYear()-1);const y=j.toISOString().split("T")[0];return a.jsxs(w,{breadcrumbs:v,children:[a.jsx(E,{title:"Edit"}),a.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:a.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:a.jsx("div",{className:"p-4 md:p-6",children:a.jsx("form",{className:"flex flex-col gap-6",onSubmit:b,children:a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(d,{htmlFor:"nama",children:"Nama"}),a.jsx(g,{id:"nama",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"nama",value:r.nama,onChange:e=>l("nama",e.target.value),disabled:s,placeholder:"Nama Balita"}),a.jsx(m,{message:i.nama,className:"mt-2"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"col-span-1 grid gap-2",children:[a.jsx(d,{htmlFor:"tempat_lahir",children:"Tempat"}),a.jsx(g,{id:"tempat_lahir",type:"text",required:!0,tabIndex:2,autoComplete:"tempat_lahir",value:r.tempat_lahir,onChange:e=>l("tempat_lahir",e.target.value),disabled:s,placeholder:"tempat_lahir......."}),a.jsx(m,{message:i.tempat_lahir})]}),a.jsxs("div",{className:"col-span-2 grid gap-2",children:[a.jsx(d,{htmlFor:"tanggal_lahir",children:"Tanggal Lahir"}),a.jsx(g,{id:"tanggal_lahir",type:"date",required:!0,max:y,tabIndex:2,autoComplete:"tanggal_lahir",value:r.tanggal_lahir,onChange:e=>l("tanggal_lahir",e.target.value),disabled:s,placeholder:"tanggal lahir......."}),a.jsx(m,{message:i.tanggal_lahir})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(d,{htmlFor:"jenis_kelamin",children:"Jenis Kelamin"}),a.jsx(_,{id:"jenis1",name:"jenis_kelaim",label:"Laki-laki",value:"Laki-laki",checked:r.jenis_kelamin=="Laki-laki",onChange:e=>l("jenis_kelamin",e.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),a.jsx(_,{id:"jenis2",name:"jenis_kelaim",label:"Perempuan",value:"Perempuan",checked:r.jenis_kelamin=="Perempuan",onChange:e=>l("jenis_kelamin",e.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),a.jsx(m,{message:i.jenis_kelamin})]}),a.jsxs("div",{className:"col-span-1 grid gap-2",children:[a.jsx(d,{htmlFor:"alamat",children:"Alamat"}),a.jsx(g,{id:"alamat",type:"text",required:!0,tabIndex:2,autoComplete:"alamat",value:r.alamat,onChange:e=>l("alamat",e.target.value),disabled:s,placeholder:"alamat......."}),a.jsx(m,{message:i.alamat})]}),a.jsxs(F,{type:"submit",variant:"secondary",className:"mt-2 w-full",tabIndex:5,disabled:s,children:[s&&a.jsx(S,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})})})})})]})}export{V as default};
