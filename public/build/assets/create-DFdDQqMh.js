import{r as t,m as L,j as e,L as S}from"./app-C9yOhxiq.js";import{I as p}from"./input-error-BiD0xQs5.js";import{B as T}from"./button-hd9qqEc4.js";import{a as u,I as _}from"./input-DvQM3S5D.js";import{L as w}from"./label-TV2hfMH1.js";import{S as y,a as I,b as D,c as A,d as B,f as E}from"./select-PRE2DTTg.js";import{T as M,a as P,b as R,c as j,d as b,e as F,f as d}from"./table-kZwxZZMU.js";import{A as V}from"./app-layout-DKKV_HMz.js";import{L as $}from"./loader-circle-Bx0i2slN.js";import"./index-DrMP7Kws.js";import"./index-Ut9SigJN.js";import"./index-BEsE8nb7.js";import"./user-menu-content-B83lONkc.js";import"./log-out-BgG8RGwF.js";import"./index-DAOHI1qG.js";import"./chevron-down-Zyijkxld.js";import"./dialog-BruS2hTY.js";import"./index-CJcqZeV0.js";import"./app-logo-icon-B9NI2uq7.js";function ne({breadcrumb:n,orangtua:G,attribut:o,statusLabel:f}){const g=t.useMemo(()=>(n==null?void 0:n.map(a=>({title:a.title,href:a.href})))??[],[n]),k=t.useMemo(()=>({label:"",dataset_id:"",jenis_kelamin:"",attribut:o.map(a=>({nilai:"",attribut_id:a.id}))}),[o]),{data:s,setData:l,post:h,processing:m,errors:c}=L(k),v=t.useMemo(()=>o.filter(a=>!["jenis kelamin","status"].includes(a.nama.toLowerCase())),[o]),C=t.useCallback(a=>{a.preventDefault(),h(route("admin.dataset.store"))},[h]),N=t.useCallback((a,i)=>{l("attribut",s.attribut.map((r,x)=>x===a?{...r,nilai:i}:r))},[s.attribut,l]);return e.jsxs(V,{breadcrumbs:g,children:[e.jsx(S,{title:"Create Dataset"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsx("div",{className:"p-4 md:p-6",children:e.jsx("form",{className:"flex flex-col gap-6",onSubmit:C,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"label",children:"Label"}),e.jsxs(y,{value:s.label,onValueChange:a=>l("label",a),children:[e.jsx(I,{className:"text-foreground",children:e.jsx(D,{placeholder:"Data Status"})}),e.jsx(A,{children:e.jsx(B,{children:f.map(a=>e.jsx(E,{value:a,children:a},a))})})]}),e.jsx(p,{message:c.label})]}),e.jsx("div",{className:"block py-2",children:e.jsx(M,{children:e.jsxs(P,{children:[e.jsx(R,{children:e.jsxs(j,{children:[e.jsx(b,{children:"Attribut"}),e.jsx(b,{children:"Input"})]})}),e.jsxs(F,{children:[e.jsxs(j,{children:[e.jsx(d,{children:"Jenis Kelamin"}),e.jsxs(d,{children:[e.jsxs("div",{className:"flex flex-row gap-2 p-2",children:[e.jsx(u,{id:"jenis1",name:"jenis_kelamin",label:"Laki-laki",value:"Laki-laki",checked:s.jenis_kelamin==="Laki-laki",onChange:a=>l("jenis_kelamin",a.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),e.jsx(u,{id:"jenis2",name:"jenis_kelamin",label:"Perempuan",value:"Perempuan",checked:s.jenis_kelamin==="Perempuan",onChange:a=>l("jenis_kelamin",a.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"})]}),e.jsx(p,{message:c.jenis_kelamin})]})]}),v.map((a,i)=>{var r;return e.jsxs(j,{children:[e.jsx(d,{children:a.nama}),e.jsxs(d,{children:[e.jsx(_,{type:"number",id:`attribut-${a.id}`,value:((r=s.attribut[i])==null?void 0:r.nilai)||"",disabled:m,onChange:x=>N(i,x.target.value)}),e.jsx(p,{message:c[`attribut.${i}.nilai`]})]})]},a.id)})]})]})})}),e.jsxs(T,{type:"submit",variant:"secondary",className:"mt-2 w-full",tabIndex:5,disabled:m,children:[m&&e.jsx($,{className:"h-4 w-4 animate-spin mr-2"}),"Simpan"]})]})})})})})]})}export{ne as default};
