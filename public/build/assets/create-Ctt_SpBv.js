import{r as i,m as T,j as e,L as S}from"./app-BUmC_SAY.js";import{I as m}from"./input-error-BkwTxdJ-.js";import{B as _}from"./button-CUFfYuZr.js";import{I as j,a as b}from"./input-B2p-SIH9.js";import{L as g}from"./label-BitvWpER.js";import{S as I,a as w,b as D,c as A,d as F,f as B}from"./select-DjHtdmMn.js";import{T as E,a as M,b as P,c as u,d as f,e as R,f as c}from"./table-DwepDJH8.js";import{A as V}from"./app-layout-BtJ3pkAn.js";import{L as $}from"./loader-circle-2Tulphst.js";import"./index-BWDtVl4a.js";import"./index-B2njMRug.js";import"./index-DhEVpXcI.js";import"./user-menu-content-DOQ3YuFw.js";import"./log-out-B83i_Uwg.js";import"./index-BGohIGTa.js";import"./chevron-down-Ckj1FqUF.js";import"./dialog-Dmw-jHsy.js";import"./index-RsEnR-Iq.js";import"./app-logo-icon-vQaABjEB.js";function ne({breadcrumb:n,orangtua:q,attribut:d,statusLabel:k}){const v=i.useMemo(()=>(n==null?void 0:n.map(a=>({title:a.title,href:a.href})))??[],[n]),C=i.useMemo(()=>({tgl:"",label:"",dataset_id:"",jenis_kelamin:"",attribut:d.map(a=>({nilai:"",attribut_id:a.id}))}),[d]),{data:s,setData:l,post:h,processing:x,errors:o}=T(C),N=i.useMemo(()=>d.filter(a=>!["jenis kelamin","status"].includes(a.nama.toLowerCase())),[d]),y=i.useCallback(a=>{a.preventDefault(),h(route("admin.dataset.store"))},[h]),L=i.useCallback((a,t)=>{l("attribut",s.attribut.map((r,p)=>p===a?{...r,nilai:t}:r))},[s.attribut,l]);return e.jsxs(V,{breadcrumbs:v,children:[e.jsx(S,{title:"Create Dataset"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsx("div",{className:"p-4 md:p-6",children:e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:y,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"tgl",children:"Tanggal"}),e.jsx(j,{id:"tgl",type:"date",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"tgl",value:s.tgl,onChange:a=>l("tgl",a.target.value),placeholder:"yyyy-mm-dd",className:"h-10"}),e.jsx(m,{message:o.tgl})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"label",children:"Label"}),e.jsxs(I,{value:s.label,onValueChange:a=>l("label",a),children:[e.jsx(w,{className:"text-foreground",children:e.jsx(D,{placeholder:"Data Status"})}),e.jsx(A,{children:e.jsx(F,{children:k.map(a=>e.jsx(B,{value:a,children:a},a))})})]}),e.jsx(m,{message:o.label})]}),e.jsx("div",{className:"block py-2",children:e.jsx(E,{children:e.jsxs(M,{children:[e.jsx(P,{children:e.jsxs(u,{children:[e.jsx(f,{children:"Attribut"}),e.jsx(f,{children:"Input"})]})}),e.jsxs(R,{children:[e.jsxs(u,{children:[e.jsx(c,{children:"Jenis Kelamin"}),e.jsxs(c,{children:[e.jsxs("div",{className:"flex flex-row gap-2 p-2",children:[e.jsx(b,{id:"jenis1",name:"jenis_kelamin",label:"Laki-laki",value:"Laki-laki",checked:s.jenis_kelamin==="Laki-laki",onChange:a=>l("jenis_kelamin",a.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"}),e.jsx(b,{id:"jenis2",name:"jenis_kelamin",label:"Perempuan",value:"Perempuan",checked:s.jenis_kelamin==="Perempuan",onChange:a=>l("jenis_kelamin",a.target.value),className:"border-red-500",labelClassName:"text-gray-800 dark:text-white"})]}),e.jsx(m,{message:o.jenis_kelamin})]})]}),N.map((a,t)=>{var r;return e.jsxs(u,{children:[e.jsx(c,{children:a.nama}),e.jsxs(c,{children:[e.jsx(j,{type:"number",id:`attribut-${a.id}`,value:((r=s.attribut[t])==null?void 0:r.nilai)||"",disabled:x,onChange:p=>L(t,p.target.value)}),e.jsx(m,{message:o[`attribut.${t}.nilai`]})]})]},a.id)})]})]})})}),e.jsxs(_,{type:"submit",variant:"secondary",className:"mt-2 w-full",tabIndex:5,disabled:x,children:[x&&e.jsx($,{className:"mr-2 h-4 w-4 animate-spin"}),"Simpan"]})]})]})})})})]})}export{ne as default};
