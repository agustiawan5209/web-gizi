import{r,m as Z,j as e,L as $,$ as q}from"./app-DAsq5aEM.js";import{C as E,D as M}from"./detail-pemeriksaan-DiLTysZX.js";import{P as V}from"./pagination-table-CYKwardE.js";import{B as p}from"./button-CxAd9G_8.js";import{I as k}from"./input-BwQX30gF.js";import{S as _,a as D,b as L,c as A,d as g,e as f,f as n,g as F}from"./select-CWYPdeiS.js";import{T as H,a as J,b as K,c as U,d as c,e as Q}from"./table-CGhyGGtk.js";import{A as W}from"./app-layout-CTY2y8XS.js";import"./chevron-down-C1_RX0nT.js";import"./index-CZrhhx6_.js";import"./index-CdoqiAOz.js";import"./index-C_lY3s-q.js";import"./user-menu-content-CzGZ2ftA.js";import"./log-out-DaUnuTph.js";import"./index-DTUesRY1.js";import"./dialog-Bk-vF5ce.js";import"./index-DtHHC9FH.js";import"./app-logo-icon-kx5mrm50.js";function be({pemeriksaan:l,breadcrumb:j,filter:t,statusLabel:B,can:b}){const I=r.useMemo(()=>j?j.map(a=>({title:a.title,href:a.href})):[],[j]),{get:i,processing:h}=Z(),[d,N]=r.useState((t==null?void 0:t.q)??""),[m,S]=r.useState((t==null?void 0:t.date)??""),[u,w]=r.useState((t==null?void 0:t.order_by)??""),[o,y]=r.useState((t==null?void 0:t.per_page)??"10"),[X,Y]=r.useState(!1),C=r.useMemo(()=>({q:d.trim(),per_page:o,order_by:u,date:m}),[d,o,u,m]),x=r.useCallback(()=>{const a=d.trim(),s=m.trim(),v=parseInt(o.toString());(a||s||!isNaN(v))&&i(route("pemeriksaan.index",C),{preserveState:!0,preserveScroll:!0,replace:!0})},[i,C]),O=r.useCallback(a=>{a.preventDefault(),x()},[x]),z=r.useCallback(a=>{a.preventDefault(),x()},[x]);r.useCallback(()=>{x()},[x]);const G=r.useCallback(a=>{a.preventDefault(),N(""),S(""),y("10"),w(""),i(route("pemeriksaan.index"),{preserveState:!0,preserveScroll:!0})},[i]);r.useEffect(()=>{const a=u.trim();a&&i(route("pemeriksaan.index",{order_by:a,per_page:o,q:d}),{preserveState:!0,preserveScroll:!0})},[u,i,o,d]);const R=r.useMemo(()=>{var a;return(a=l==null?void 0:l.data)!=null&&a.length?l.data.map((s,v)=>{let P=null;b.read&&(P=route("pemeriksaan.show",{pemeriksaan:s.id}));let T=null;return b.delete&&(T=route("pemeriksaan.destroy",{pemeriksaan:s.id})),e.jsx(E,{num:v+1+(l.current_page-1)*l.per_page,title:s.tgl_pemeriksaan,columnData:[s.balita.nama,s.balita.orangtua.name,`${s.balita.tempat_lahir}/${s.balita.tanggal_lahir}`,s.label],delete:"delete",url:T??"",id:s.id,show:P??"",children:e.jsx(M,{pemeriksaan:s,detail:s.detailpemeriksaan})},s.id)}):null},[l]);return e.jsxs(W,{breadcrumbs:I,children:[e.jsx($,{title:"Pemeriksaan"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsxs("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-col items-start justify-start gap-4 md:gap-7 lg:flex-row lg:items-center lg:justify-between lg:px-4 lg:py-2",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-wrap gap-7 md:items-start lg:flex-row lg:px-4 lg:py-2",children:[b.add&&e.jsx(q,{href:route("pemeriksaan.create-id"),children:e.jsx(p,{type:"button",size:"lg",tabIndex:4,className:"bg-primary flex cursor-pointer items-center gap-2",children:"Pemeriksaan Gizi"})}),e.jsxs("div",{className:"col-span-full flex flex-wrap items-center gap-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Cari"}),e.jsx(k,{type:"text",id:"search-text",value:d,className:"max-w-max",onChange:a=>N(a.target.value),placeholder:"Cari berdasarkan nama atau keterangan"}),e.jsx(k,{type:"date",id:"search-date",value:m,onChange:a=>S(a.target.value),className:"max-w-fit",placeholder:"Cari berdasarkan tanggal"}),e.jsx(p,{variant:"outline",type:"button",onClick:O,className:"flex items-center gap-2 text-xs",disabled:h,children:"Cari"}),e.jsx(p,{variant:"outline",type:"button",onClick:G,className:"flex items-center gap-2 border-red-500 text-xs",disabled:h,children:"Clear"})]})]}),e.jsx("div",{className:"col-span-1 lg:px-4 lg:py-2",children:e.jsxs(_,{value:u,onValueChange:w,children:[e.jsx(D,{children:e.jsx(L,{placeholder:"Tampilan Status"})}),e.jsxs(A,{children:[e.jsxs(g,{children:[e.jsx(f,{children:"Urutkan"}),e.jsx(n,{value:"A-Z",children:"A-Z"}),e.jsx(n,{value:"Z-A",children:"Z-A"}),e.jsx(n,{value:"desc",children:"Terbaru"}),e.jsx(n,{value:"asc",children:"Terlama"})]}),e.jsxs(g,{children:[e.jsx(f,{children:"berdasarkan Gizi"}),B.map(a=>e.jsx(n,{value:a,children:a},a))]}),e.jsx(F,{}),e.jsxs(g,{children:[e.jsx(f,{children:"Jenis Kelamin"}),e.jsx(n,{value:"Laki-laki",children:"Laki-Laki"}),e.jsx(n,{value:"Perempuan",children:"Perempuan"})]})]})]})})]}),e.jsxs("div",{className:"overflow-hidden lg:w-full",children:[e.jsx(H,{children:e.jsx("div",{className:"max-w-[300px] md:max-w-[768px] lg:max-w-full",children:e.jsxs(J,{className:"w-full",children:[e.jsx(K,{children:e.jsxs(U,{children:[e.jsx(c,{className:"w-10",children:"No."}),e.jsx(c,{children:"Tanggal Pemeriksaan"}),e.jsx(c,{children:"Nama Balita"}),e.jsx(c,{children:"Nama Orang Tua"}),e.jsx(c,{children:"Tempat/Tanggal Lahir"}),e.jsx(c,{children:"Hasil Pemeriksaan Gizi"}),e.jsx(c,{children:"Aksi"})]})}),e.jsx(Q,{className:h?"opacity-50":"",children:R})]})})}),e.jsx("section",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col items-center justify-between gap-7 border-x-2 border-b-2 p-2 md:flex-row",children:[e.jsxs("div",{className:"flex items-center gap-7 lg:px-4 lg:py-2",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(_,{value:o,onValueChange:y,children:[e.jsx(D,{children:e.jsx(L,{placeholder:"Jumlah Data"})}),e.jsx(A,{children:e.jsxs(g,{children:[e.jsx(n,{value:"10",children:"10"}),e.jsx(n,{value:"20",children:"20"}),e.jsx(n,{value:"50",children:"50"}),e.jsx(n,{value:"100",children:"100"})]})})]}),e.jsx(p,{variant:"outline",type:"button",onClick:z,className:"flex items-center gap-2 text-xs",disabled:h,children:"Tampilkan"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["halaman ",l==null?void 0:l.from," ke ",l==null?void 0:l.to," dari ",l==null?void 0:l.total," total"]})]}),e.jsx(V,{links:(l==null?void 0:l.links)??[],data:t})]})})]})]})})]})}export{be as default};
