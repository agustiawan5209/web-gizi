import{r as x,m as V,j as e,L as A,$ as L}from"./app-Ca6S9gPx.js";import{P as E}from"./pagination-table-2gImOmB5.js";import{B as h}from"./button-CCO4md11.js";import{S as v,a as b,b as y,c as S,d as u,e as N,f as c,g as q}from"./select-C-zkf5ug.js";import{T as G,a as O,b as R,c as w,d as i,e as $,f as d,g as z}from"./table-DnsXk7Tm.js";import{A as H}from"./app-layout-BMjI3x_B.js";import"./index-Cginlj2W.js";import"./index-dQZco9LH.js";import"./index-DRgnZxA1.js";import"./user-menu-content-BmaJqgo6.js";import"./log-out-KD-nKMhc.js";import"./index-DHvlJmdC.js";import"./chevron-down-D0RoRdGA.js";import"./dialog-BP221eZu.js";import"./index-BTOJCRsu.js";import"./app-logo-icon-kfJQAMcK.js";function ce({dataset:l,breadcrumb:p,filter:s,attribut:o,statusLabel:j}){const T=x.useMemo(()=>p?p.map(r=>({title:r.title,href:r.href})):[],[p]),{get:t,processing:k,reset:P}=V({}),[m,_]=x.useState((s==null?void 0:s.order_by)??"");x.useEffect(()=>{const r=m.trim();r.length>0&&t(route("admin.dataset.index",{order_by:r,per_page:s==null?void 0:s.per_page,q:s==null?void 0:s.q}),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},[m]);const[g,f]=x.useState((s==null?void 0:s.per_page)??10),B=r=>{r.preventDefault();const n=g.toString().trim(),a=parseInt(n);!isNaN(a)&&a>0&&t(route("admin.dataset.index",{per_page:a}),{preserveState:!0,preserveScroll:!0,replace:!0})},C=r=>{r.preventDefault(),P(),f("10"),t(route("admin.dataset.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},D=(r,n)=>{if(!n||!r)return"";try{const a=n.find(I=>String(I.attribut_id).includes(r));return(a==null?void 0:a.nilai)??""}catch(a){return console.error("Error in searchById:",a),""}};return e.jsxs(H,{breadcrumbs:T,children:[e.jsx(A,{title:"Dataset"}),e.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:e.jsxs("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-col items-start justify-end gap-2 px-1 py-1 md:flex-row md:items-center md:justify-between md:gap-7 lg:px-4 lg:py-2",children:[e.jsxs("div",{className:"flex w-full flex-1 flex-row gap-7 px-1 py-1 md:items-center lg:px-4 lg:py-2",children:[e.jsx(L,{href:route("admin.dataset.create"),className:"col-span-1 cursor-pointer",children:e.jsx(h,{type:"button",variant:"default",className:"bg-primary w-mx flex cursor-pointer items-center gap-2 md:w-full",children:"Tambah Data"})}),e.jsx("div",{className:"col-span-2 flex items-center gap-2",children:e.jsx(h,{variant:"outline",type:"button",onClick:C,className:"flex items-center gap-2 border-red-500 text-xs",children:"Clear"})})]}),e.jsx("div",{className:"col-span-1 px-1 py-1 lg:px-4 lg:py-2",children:e.jsxs(v,{defaultValue:"",value:m,onValueChange:r=>_(r),children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Tampilan Status"})}),e.jsxs(S,{children:[e.jsxs(u,{children:[e.jsx(N,{children:"Urutkan"}),e.jsx(c,{value:"desc",children:"Terbaru"}),e.jsx(c,{value:"asc",children:"Terlama"})]}),e.jsxs(u,{children:[e.jsx(N,{children:"berdasarkan Gizi"}),j.length>0&&j.map(r=>e.jsx(c,{value:r,children:r},r))]}),e.jsx(q,{})]})]})})]}),e.jsxs("div",{className:"overflow-hidden lg:w-full",children:[e.jsx(G,{className:"max-w-[360px] md:max-w-[768px] lg:max-w-full",children:e.jsxs(O,{className:"w-full",children:[e.jsx(R,{children:e.jsxs(w,{children:[e.jsx(i,{className:"w-10",children:"No."}),e.jsx(i,{children:"Tanggal Dataset"}),e.jsx(i,{children:"Label"}),o.length>0&&o.map((r,n)=>e.jsx(i,{className:"px-0 text-center",children:r.nama},n)),e.jsx(i,{children:"Aksi"})]})}),e.jsx($,{className:k?"opacity-50":"",children:((l==null?void 0:l.data)??[]).length>0&&(l==null?void 0:l.data.map((r,n)=>e.jsxs(w,{children:[e.jsx(d,{children:n+1+((l==null?void 0:l.current_page)-1)*(l==null?void 0:l.per_page)}),e.jsxs(d,{children:[" ",r.tgl," "]}),e.jsxs(d,{children:[" ",r.label," "]}),o.length>0&&o.map(a=>e.jsx(d,{children:D(a.id,r.fiturdataset)},a.id)),e.jsx(z,{className:"w-32",delete:"delete",url:route("admin.dataset.destroy",{dataset:r.id}),title:r.tgl,edit:route("admin.dataset.edit",{dataset:r.id}),id:r.id})]},n)))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-7 border-x-2 border-b-2 p-2",children:[e.jsxs("div",{className:"flex items-center gap-7 px-1 py-1 lg:px-4 lg:py-2",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs(v,{defaultValue:"10",value:g,onValueChange:r=>f(r.toString()),children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Jumlah Data"})}),e.jsx(S,{children:e.jsxs(u,{children:[e.jsx(c,{value:"10",children:"10"}),e.jsx(c,{value:"20",children:"20"}),e.jsx(c,{value:"50",children:"50"}),e.jsx(c,{value:"100",children:"100"}),e.jsx(c,{value:"300",children:"300"}),e.jsx(c,{value:"500",children:"500"})]})})]}),e.jsx(h,{variant:"outline",type:"button",onClick:B,className:"flex items-center gap-2 text-xs",children:"Tampilkan"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[" ","halaman ",l==null?void 0:l.from," ke ",l==null?void 0:l.to," dari ",l==null?void 0:l.total," total"]})]}),e.jsx(E,{links:(l==null?void 0:l.links)??[],data:s})]})]})]})})]})}export{ce as default};
